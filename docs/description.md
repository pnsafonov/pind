# Pind
Pind (от анг. pin + daemon) - сервис, осуществляющий привязку потоков процесса 
к процессорным ядрам.

## Цель
Выделить каждому потоку процесса (ядру виртуальный машины) персональное ядро 
процессора во время высокого потребления процессора данной виртуальной машиной. 
При этом ядра располагаются на одной NUMA ноде.

Если процесс не потребляет много процессорного времени (меньше 150%, 1.5 ядра), 
то потоки процесса исполняся на группе ядер процессора, которые используются 
совместно с другими процессами.

## Принцип работы
Сервис делает рабочий цикл за фиксированные интервалы времени (1000 мс).

В каждом цикле последовательно производятся следующие действия:
1. Выбор **отслеживаемых** процессов для привязки к ядрам.
2. Расчёт потребления процессорного времени процессами и потоками.
3. Расчёт потребления процессорного времени ядрами, выделенными под **ненагруженные**
процессы.
4. Обновление информации об отслеживаемых процессах: добавление процессов, удаление
процессов, добавление новых потоков в процесс, удаление потоков процесса. При удалении
процессов и потоков происходит освобождение ядер для последующего использования.
5. Привязка процессов, которые попали под один фильтр из двух, к ядрам, которые
используются совместно.
6. Привязка процессов, которые попали под два фильтра, к ядрам, которые используются
совместно. Если процессы потребляют мало процессорного времени (меньше 150%).
7. Привязка процессов, которые попали под два фильтра. Привязываются процессы,
которые потребляют много процессорного времени (больше 150%).
8. Расчёт информации для Http JSON API.